<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="baidu-site-verification" content="<meta name="baidu-site-verification" content="code-H4dQLLFwFd" />">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.huangkun1987.com","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":null,"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="先聊聊为什么要写博客。像其他程序员一样，我以前也会通过写博客的方式记录自己的所学和总结，但是很遗憾，最终没有坚持。首先坚持不是一件容易的事情，尤其是写博客，不仅消耗精力和时间，而且分享的东西也不一定会有人看。我最近正在看《软技能：代码之外的生存指南》这本书，里面提到了为什么建议读者写博客的原因。总结说来就是，如果你想要真正学到东西，那么你需要学会分享。通过向他人讲述知识，不仅可以让你看到自己的盲区">
<meta property="og:type" content="article">
<meta property="og:title" content="个人静态博客搭建指南">
<meta property="og:url" content="https://www.huangkun1987.com/archives/2d635022.html">
<meta property="og:site_name" content="huangkun1987">
<meta property="og:description" content="先聊聊为什么要写博客。像其他程序员一样，我以前也会通过写博客的方式记录自己的所学和总结，但是很遗憾，最终没有坚持。首先坚持不是一件容易的事情，尤其是写博客，不仅消耗精力和时间，而且分享的东西也不一定会有人看。我最近正在看《软技能：代码之外的生存指南》这本书，里面提到了为什么建议读者写博客的原因。总结说来就是，如果你想要真正学到东西，那么你需要学会分享。通过向他人讲述知识，不仅可以让你看到自己的盲区">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-10-31T11:15:09.000Z">
<meta property="article:modified_time" content="2021-01-03T01:27:58.014Z">
<meta property="article:author" content="huangkun1987">
<meta property="article:tag" content="hexo">
<meta property="article:tag" content="blog">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://www.huangkun1987.com/archives/2d635022.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-cn'
  };
</script>

  <title>个人静态博客搭建指南 | huangkun1987</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?6d82bb8cf854d61a6cf3ec75ad82bfcf";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>


<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="huangkun1987" type="application/atom+xml">
<link rel="alternate" href="/rss2.xml" title="huangkun1987" type="application/rss+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">huangkun1987</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Love Blog Again</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-cn">
    <link itemprop="mainEntityOfPage" href="https://www.huangkun1987.com/archives/2d635022.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="huangkun1987">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="huangkun1987">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          个人静态博客搭建指南
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-10-31 19:15:09" itemprop="dateCreated datePublished" datetime="2020-10-31T19:15:09+08:00">2020-10-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-01-03 09:27:58" itemprop="dateModified" datetime="2021-01-03T09:27:58+08:00">2021-01-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/code/" itemprop="url" rel="index"><span itemprop="name">code</span></a>
                </span>
            </span>

          
            <span id="/archives/2d635022.html" class="post-meta-item leancloud_visitors" data-flag-title="个人静态博客搭建指南" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/archives/2d635022.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/archives/2d635022.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>先聊聊为什么要写博客。像其他程序员一样，我以前也会通过写博客的方式记录自己的所学和总结，但是很遗憾，最终没有坚持。首先坚持不是一件容易的事情，尤其是写博客，不仅消耗精力和时间，而且分享的东西也不一定会有人看。我最近正在看《软技能：代码之外的生存指南》这本书，里面提到了为什么建议读者写博客的原因。总结说来就是，如果你想要真正学到东西，那么你需要学会分享。通过向他人讲述知识，不仅可以让你看到自己的盲区，而且也需要花时间组织知识信息和语言，写博客就是其中一种途径。你不需要成为行业专家才有资格去分享，只是把学到的东西，哪怕很小的概念能解释清楚就好。另外，如果总是抱着寻求关注的心态去写作，那么也很容易失望，毕竟获取关注的前提是，你能为别人提供什么价值，而且是免费的。如果不用为了刻意寻求关注而写博客，写写自己感兴趣的东西，同时相信自己写的东西对其他某些同样需要帮助的人来说也是有价值的，这样的话在心态上会轻松很多。 </p>
<blockquote>
<p>博客是很棒的地方，它能让你在教自己所学的知识的同时不必承受过多的压力。在你掌握一个主题之后，可以撰写博客来分享自己所学。看看自己能不能以这一简单的方式来从接受到的信息中提炼要点。 — John Z. Sonmez</p>
</blockquote>
<p>除了提炼学到的东西以外，我认为也可以通过写博客来观察自己的想法。比如阅读一本书的读后感，电影观后感等等。所以我没有打算写纯技术博客，我觉得技术以外的世界其实更有意思。另外，真心不推荐在晚上创作，除非你能接受睡前写博客带来的兴奋会影响入睡的问题。</p>
<p>下面就是搭建博客的技术部分了。我在这里记录一下自己搭建静态博客的方案和想法。如果你有git经验或者喜欢编程、DIY，想自己动手像做一个航模一样来创建博客却苦于没有思路和经验，或者因为选择太多而无法做决定的话，可以参考我提供的<code>Hexo+Github+自定义域名</code>组合<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>。</p>
<h4 id="第三方服务vs-个人建站"><a href="#第三方服务vs-个人建站" class="headerlink" title="第三方服务vs.个人建站"></a>第三方服务vs.个人建站</h4><p>在2006年左右博客在国内还是挺火的，比如新浪博客、百度空间等等。当时我自己也开了账号，只是没有什么值得分享的内容。现在大众熟知的博客社区有简书，或者程序技术细分市场的CSDN、掘金等等。如果你想要开博客，可以选择一个知名的博客服务提供商，注册个账户，省去了自己建站的麻烦，而且也会有流量，有评论功能，这些都是选择第三方博客提供商的优势。但是选择第三方服务也有一些弊端，比如可能因为不赚钱、流量减少等原因导致服务下线关闭（比如百度空间）；或者比如展示你的博客时，突然冒出一个广告或推荐弹窗，影响阅读体验（比如新浪博客）；或者网页风格千篇一律，不足以表达你的自由和个性。</p>
<p>在如今微博和短视频风靡的当下，博客看似已经退居二线，但是依然有存在感，而且存在形式早就不是当初只有一两家很大的博客服务提供商来瓜分世界版图的格局了，现在每个人都有机会自己动手建立个人博客网站。自己建站的优势在于自由和独立，但是也会有额外的运营和维护工作，流量也只能靠搜索引擎和自主宣传。在平衡利弊以后，你可以选择第三方服务，也可以选择低成本搭建个人博客站点。</p>
<h4 id="静态博客生成器"><a href="#静态博客生成器" class="headerlink" title="静态博客生成器"></a>静态博客生成器</h4><p>首先介绍一种动态博客，比如<a target="_blank" rel="noopener external nofollow noreferrer" href="https://cn.wordpress.org/">WordPress</a>，就是包含了数据库、后台管理系统和前端页面的网站。相反，另一种是静态博客，它不需要后台的管理，没有数据库，没有评论系统（当然也可以通过插件支持），不用运行服务器的框架程序，通过工具把Markdown格式的博客文章直接渲染成HTML静态网页展示给用户就行了，非常轻量<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup>。静态博客主要是文字内容的展示和发布，功能单一，但是搭建过程是一门技术活，适合有编程基础的极客博主。</p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io/zh-cn/">Hexo</a>是一款轻量且高性能的静态博客生成工具，在官网上有详细的安装和配置教程，还有很多个性十足的<a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io/themes/">主题样式</a>、插件可供选择。其实除了hexo，还有很多其他优秀的静态生成器，比如<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.jekyll.com.cn/">Jekyll</a>（我因为没用过，所以就不做评论了）。我选用hexo而不是WordPress的原因主要是前者免费，而且以前也尝试用它写过博客，所以更熟悉一些，再加上静态博客精简和轻量的特点，可以不需要考虑后台的维护；相比之下，作为动态博客的WordPress也很强大，它甚至提供了包括域名绑定和后端搭建的一体化服务，让没有编程基础的用户也可以建立自己的网站或博客。选择WordPress的用户可能更想要做专业网站，比如创业或品牌宣传，在找不到程序员的条件下自己就能搞出来，不过等网站做大了，用户流量和关注也随之上涨，也就需要考虑升级和付费服务了。</p>
<p>hexo的安装细节就不写在这里了，<a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io/zh-cn/">官网</a>和其他博客里都有手把手的详细教程。使用<code>hexo init</code>完成初始化以后，可以重点留意下面这几个目录。</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">├── _config.yml # 博客配置项，比如标题、主题、部署位置</span><br><span class="line">├── package.json # hexo的程序信息</span><br><span class="line">├── public      # 生成最终的发布网页</span><br><span class="line">├── scaffolds   # 博客模版，可以自定义文章编辑样式</span><br><span class="line">├── source      # 原始资源，包括文章和其他内容，比如后面自定义域名用到的CNAME</span><br><span class="line">│&nbsp;&nbsp; └── _posts  # 博客文章，使用hexo new生成的文章都会放在这里</span><br><span class="line">└── themes      # 博客主题，每个主题目录下都会包含自己的_config.yml配置文件</span><br></pre></td></tr></tbody></table></figure>

<p>另外建议在博客根目录下使用git进行追踪管理（指定忽略public目录和db.json数据库），这样以后更改配置的话就方便保存了。如果使用多台pc/mac切换写博客的话，最好使用远程私有仓库来同步，因为配置文件里都会包含账号等敏感信息。（如果你换了电脑后，第一次同步完博客根目录的数据，使用hexo命令发现报错的话，需要重新在该目录下<code>npm install</code>来安装缺失的hexo组件）</p>
<p>常用的命令也就这几个，很好记：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hexo new &lt;post&gt;     # 创建一篇新文章的markdown文件</span><br><span class="line">hexo g      # generate 生成博客网页和其他文件</span><br><span class="line">hexo s      # server 开启本地预览模式，在浏览器中输入localhost:4000即可看到效果，而且改动文章以后直接去浏览器刷新一下就出效果</span><br><span class="line">hexo d      # deploy 部署到托管服务器</span><br><span class="line">hexo clean  # 清除数据</span><br></pre></td></tr></tbody></table></figure>

<p>hexo的配置代码格式要求很严谨，可能因为少个空格或者文章tags格式不规范都会导致命令出错。遇到各种报错问题的时候，不要慌张，在日志里找到报错原因去网上搜索答案就行。这些问题基本都有前人栽过跟头，而且他们都热心的在网上分享了自己的解决方案。</p>
<h4 id="免费托管"><a href="#免费托管" class="headerlink" title="免费托管"></a>免费托管</h4><p>用hexo生成的静态博客站点，还需要找一个服务器进行托管才行，这里推荐<a target="_blank" rel="noopener external nofollow noreferrer" href="https://pages.github.com/">Github Pages</a>服务，这是目前最大的git在线仓库托管服务商推出的免费网站托管服务，是静态博客的绝佳部署场景。当然也可以选择国内的<a target="_blank" rel="noopener external nofollow noreferrer" href="https://gitee.com/">gitee</a>或者<a target="_blank" rel="noopener external nofollow noreferrer" href="https://coding.net/">coding</a>的pages服务作为博客站点托管，而且托管在国内站点会让你的博客页面打开速度更快，<del>但是我认为（目前被微软收购的）github提供的pages服务会更加稳健和成熟一些，不太会出现费用门槛或服务停用的问题，但是如果因为国家之间政治问题导致github无法访问的话，那就另当别论了。</del>（更新）后来看了godxiaolong写的<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/weixin_45682081/article/details/104486787">Hexo 双线部署到 Coding 和 GitHub 提升访问速度</a>后，发现还是使用两个托管服务更加稳妥：境外一个，境内一个。如果只托管在github的话，会发现无法使用百度搜索，据说因为GitHub禁止了百度的爬取。</p>
<p>选择Github的话，首先需要创建一个Github Pages，简单的说就是：注册一个github账号，创建一个名为<code>&lt;username&gt;.github.io</code>的公开仓库<sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup>（这里和下文中的username需要换成你的实际用户名），在仓库根目录下添加一个<code>index.html</code>的文件，这样就能在浏览器中输入<code>https://username.github.io</code>访问到你的网站了（其实就是访问的index.html文件）。具体操作步骤可以在<a target="_blank" rel="noopener external nofollow noreferrer" href="https://pages.github.com/">官网</a>上找到。</p>
<p>接下来就是将hexo的博客部署地址设为github，首先需要安装<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/hexojs/hexo-deployer-git">hexo-deployer-git</a>插件，然后在hexo博客根目录下的<code>_config.yml</code>文件中添加deploy配置。</p>
<figure class="highlight yml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span></span><br><span class="line">    <span class="attr">github:</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">&lt;repository</span> <span class="string">url&gt;</span></span><br><span class="line">      <span class="attr">branch:</span> [<span class="string">branch</span>]</span><br><span class="line">    <span class="attr">coding:</span></span><br><span class="line">      <span class="string">...</span></span><br><span class="line">    <span class="attr">gitee:</span></span><br><span class="line">      <span class="string">...</span> <span class="comment"># 部署完gitee后，还要去pages服务页面手动刷新</span></span><br></pre></td></tr></tbody></table></figure>

<p>这里也可以同时添加其他多个git仓库，比如前面提到的gitee和coding的远程仓库。当hexo部署的时候，就可以同时部署到多个在线托管服务中了。比如在github上部署成功以后，你就可以在浏览器中访问<code>https://username.github.io</code>看到你的第一篇博客了。</p>
<h4 id="自定义域名"><a href="#自定义域名" class="headerlink" title="自定义域名"></a>自定义域名</h4><p>Github Pages服务也允许用户使用自定义域名（比如访问<code>www.example.com</code>）来代替默认的<code>&lt;username&gt;.github.io</code>，其实我也推荐设置自定义域名，因为如果有用户关注你的博客，肯定会记住你的名字，假如你哪天更换了托管服务，不再使用github的话，用户也能通过你的域名找到你的博客新家。这里涉及到如何从一个域名映射到另一个域名的问题，解决方法是同时在Github和域名提供商两端都配置好一个叫<code>CNAME</code>的东西，具体如何做呢？</p>
<ul>
<li>首先从域名提供商购买一个你中意的域名<sup id="fnref:4"><a href="#fn:4" rel="footnote">4</a></sup>，我使用的是<a target="_blank" rel="noopener external nofollow noreferrer" href="https://wanwang.aliyun.com/">阿里云万网</a>，不仅价格合适，而且购买之后可以继续申请实名认证服务。</li>
<li>回到Github，选择你的博客仓库，点击<code>Settings</code>，在<code>Custom domain</code>这里填写你买下的域名，点击<code>Save</code>就可以了。这里需要提示一下：<ul>
<li>建议先在仓库的设置里配置完后，再去比如阿里云的域名服务那里设置解析，可能是Github出自安全考虑。</li>
<li>建议填写带有<code>www</code>或者<code>blog</code>的子域名，不建议直接填写顶级域名。比如你拥有的域名是<code>example.com</code>，那么你可以填写<code>www.example.com</code>。</li>
</ul>
</li>
<li>接下来回到阿里云，找到域名/云解析DNS/域名解析/解析设置，点击添加记录，添加一个<code>CNAME</code>类型的记录，将你的<code>www.example.com</code>（主机记录）指向<code>&lt;username&gt;.github.io</code>（记录值），这样用户在浏览器中输入<code>www.example.com</code>的时候，就可以映射到你在github上托管的博客页面了。配置完等待几分钟，用浏览器试一下效果。<sup id="fnref:5"><a href="#fn:5" rel="footnote">5</a></sup><ul>
<li>如果用户在浏览器中输入<code>example.com</code>或者<code>blog.example.com</code>来定位你的博客怎么办？同样，可以再添加两个CNAME记录，主机记录分别是<code>@.example.com</code>和<code>blog.example.com</code>，它们指向的记录值都是<code>www.example.com</code>，这样不论用户输入其中哪个地址，都会映射到<code>www.example.com</code></li>
</ul>
</li>
<li>使用自定义域名的话，github是不会默认使用https环境的，而你需要做的也就是等几个小时，再回到Github的博客仓库，去设置里找到并勾选<code>Enforce HTTPS</code>的选项就行了，这样用户访问到的就是https环境下的博客地址。开启https的话，会给用户留下安全和靠谱的印象。给自定义的域名配置https环境是需要时间的，默认说要等24个小时，其实好像也没那么久，当然等上一天以后再勾选肯定是没问题的。</li>
</ul>
<p>由于填写的是子域名，点击Save后，Github会自动在仓库的根目录下生成一个<code>CNAME</code>文件，这样隐晦的行为你可能真的不会留意。<strong>但是需要特别注意</strong>，当你用<code>hexo deploy</code>进行部署时会把仓库里的文件都替换掉的，包括这个CNAME文件。所以<strong>解决方法是在hexo博客的source目录下的保存一份CNAME</strong>，这样每次部署都会带上CNAME文件。简单的步骤就是，检查一下你在github上生成的CNAME文件内容，比如就<code>www.example.com</code>一行文本，然后通过命令行定位到hexo博客根目录下，输入以下命令即可。</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo "www.example.com" &gt;&gt; source/CNAME</span><br></pre></td></tr></tbody></table></figure>

<p>如果上面总结的不够细致，建议直接阅读Github Pages的<a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.github.com/en/free-pro-team@latest/github/working-with-github-pages/about-custom-domains-and-github-pages">自定义域名说明</a>和<a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.github.com/en/free-pro-team@latest/github/working-with-github-pages/managing-a-custom-domain-for-your-github-pages-site">操作方法</a>。关于阿里云的域名解析，可以在添加记录的时候，点击<code>?</code>查看帮助。</p>
<p><strong>更新补充：</strong>对于同时托管到境内和境外的服务器的话，在完成上面的解析后，可以继续添加<code>CNAME</code>到境内的站点，比如同样开启了gitee pages服务的话，就将<code>www.example.com</code>（主机记录）指向<code>&lt;username&gt;.gitee.io</code>（记录值），解析线路选择为默认。你也可以把之前指向github记录的线路改成境外，但是阿里云是智能解析，所以用默认就可以了。于是用户从境外访问<code>www.example.com</code>就会指向github服务器，而境内用户就指向到gitee，从而加快页面打开速度。</p>
<h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><p>配置好一个博客还有很多其他的细节需要考虑：比如文章署名，是否需要<a target="_blank" rel="noopener external nofollow noreferrer" href="https://zhuanlan.zhihu.com/p/92241815">评论</a>、访问统计等等，这些一般都是通过插件或者修改代码来完成，而且不同的主题下的配置方式也有所不同，比如hexo安装的默认主题是<code>landscape</code>，那么可以在网上找到这款主题的<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/hexojs/hexo-theme-landscape">Github源代码</a>，然后在介绍页里寻找答案，至于其他的主题也可以采用这种方式来找到解决方案。我在搭建自己博客的时候，也会参考和借鉴其他优秀的博客给出的实现方案，尤其是图文并茂的引导步骤，非常受益。如果你也像我一样，一开始只通过三方博客去寻求问题的解决方案而毫无进展的话，还是建议花些时间寻找和研读一下官方或开源作者提供的文档和帮助，因为这些看似枯燥的长篇大论，其实可能蕴含了很多你正在寻求解决问题的本质。</p>
<p>祝顺利。</p>
<div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline-block; vertical-align: top;">特别说明，我使用的是macOS环境。</span><a href="#fnref:1" rev="footnote"> ↩</a></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">2.</span><span style="display: inline-block; vertical-align: top;">Markdown是一种通用的文本格式，你无需考虑排版细节，只需要关注内容即可。</span><a href="#fnref:2" rev="footnote"> ↩</a></li><li id="fn:3"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">3.</span><span style="display: inline-block; vertical-align: top;">Github规定免费用户的公开仓库，或者高级付费用户的私有仓库可以创建Pages服务。</span><a href="#fnref:3" rev="footnote"> ↩</a></li><li id="fn:4"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">4.</span><span style="display: inline-block; vertical-align: top;">由于实在想不到什么好名字，于是就模仿电影名jojo rabbit找了一个<code>kunkunboy.com</code>的域名。</span><a href="#fnref:4" rev="footnote"> ↩</a></li><li id="fn:5"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">5.</span><span style="display: inline-block; vertical-align: top;">也可以通过在命令行输入<code>dig www.example.com +nostats +nocomments +nocmd</code>可以查看域名解析结果。</span><a href="#fnref:5" rev="footnote"> ↩</a></li></ol></div></div>
    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>huangkun1987
  </li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="https://www.huangkun1987.com/archives/2d635022.html" title="个人静态博客搭建指南">https://www.huangkun1987.com/archives/2d635022.html</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener external nofollow noreferrer" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/hexo/" rel="tag"># hexo</a>
              <a href="/tags/blog/" rel="tag"># blog</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item"></div>
      <div class="post-nav-item">
    <a href="/archives/98e4e333.html" rel="next" title="iOS现代自动布局">
      iOS现代自动布局 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E6%9C%8D%E5%8A%A1vs-%E4%B8%AA%E4%BA%BA%E5%BB%BA%E7%AB%99"><span class="nav-text">第三方服务vs.个人建站</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E7%94%9F%E6%88%90%E5%99%A8"><span class="nav-text">静态博客生成器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%8D%E8%B4%B9%E6%89%98%E7%AE%A1"><span class="nav-text">免费托管</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D"><span class="nav-text">自定义域名</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B6%E4%BB%96"><span class="nav-text">其他</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="huangkun1987"
      src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">huangkun1987</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">2</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-huangkun1987"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">huangkun1987</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener external nofollow noreferrer" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener external nofollow noreferrer" target="_blank">NexT.Mist</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : true,
      notify     : true,
      appId      : 'mJv3KUkAMy0oghu4bppULCar-gzGzoHsz',
      appKey     : 'LuwRlpuq8cs8CONzMuHW1gvU',
      placeholder: "你有什么想法？",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

<script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(n){n.imageLazyLoadSetting.processImages=i;var e=n.imageLazyLoadSetting.isSPA,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight||document.documentElement.clientHeight)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},n.src=i}()}i(),n.addEventListener("scroll",function(){var t,e;t=i,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body>
</html>
